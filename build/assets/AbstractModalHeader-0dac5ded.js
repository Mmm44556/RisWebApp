import{r as o,j as l,c as Z,P as j,aD as S,y as ee,am as we,ae as v,aE as Me,D as Oe,b as h,z as X,G as ke,aq as m}from"./index-aeac18f4.js";const tt=e=>o.forwardRef((t,n)=>l.jsx("div",{...t,ref:n,className:Z(t.className,e)}));function nt(){return o.useState(null)}function Ne(){const e=o.useRef(!0),t=o.useRef(()=>e.current);return o.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function je(e){const t=o.useRef(null);return o.useEffect(()=>{t.current=e}),t.current}const Be=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Ae=typeof document<"u",Y=Ae||Be?o.useLayoutEffect:o.useEffect,De={"aria-label":j.string,onClick:j.func,variant:j.oneOf(["white"])},W=o.forwardRef(({className:e,variant:t,"aria-label":n="Close",...s},r)=>l.jsx("button",{ref:r,type:"button",className:Z("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...s}));W.displayName="CloseButton";W.propTypes=De;const Le=W;function Se(e){const t=o.useRef(e);return t.current=e,t}function We(e){const t=Se(e);o.useEffect(()=>()=>t.current(),[])}function q(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const te=o.createContext(S?window:void 0);te.Provider;function F(){return o.useContext(te)}function B(e){e===void 0&&(e=ee());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Fe(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const z=we("modal-open");class Ie{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Fe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[s]:r.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(v(r,s)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(z,""),v(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(z),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const I=Ie,A=(e,t)=>S?e==null?(t||ee()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Pe(e,t){const n=F(),[s,r]=o.useState(()=>A(e,n==null?void 0:n.document));if(!s){const a=A(e);a&&r(a)}return o.useEffect(()=>{t&&s&&t(s)},[t,s]),o.useEffect(()=>{const a=A(e);a!==s&&r(a)},[e,s]),s}function _e({in:e,onTransition:t}){const n=o.useRef(null),s=o.useRef(!0),r=h(t);return Y(()=>{if(!n.current)return;let a=!1;return r({in:e,element:n.current,initial:s.current,isStale:()=>a}),()=>{a=!0}},[e,r]),Y(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function Ke({children:e,in:t,onExited:n,onEntered:s,transition:r}){const[a,d]=o.useState(!t);t&&a&&d(!1);const f=_e({in:!!t,onTransition:u=>{const b=()=>{u.isStale()||(u.in?s==null||s(u.element,u.initial):(d(!0),n==null||n(u.element)))};Promise.resolve(r(u)).then(b,T=>{throw u.in||d(!0),T})}}),E=Oe(f,e.ref);return a&&!t?null:o.cloneElement(e,{ref:E})}function J(e,t,n){return e?l.jsx(e,Object.assign({},n)):t?l.jsx(Ke,Object.assign({},n,{transition:t})):l.jsx(Me,Object.assign({},n))}function He(e){return e.code==="Escape"||e.keyCode===27}const Ge=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Ve(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let D;function $e(e){return D||(D=new I({ownerDocument:e==null?void 0:e.document})),D}function Ue(e){const t=F(),n=e||$e(t),s=o.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:o.useCallback(r=>{s.current.dialog=r},[]),setBackdropRef:o.useCallback(r=>{s.current.backdrop=r},[])})}const ne=o.forwardRef((e,t)=>{let{show:n=!1,role:s="dialog",className:r,style:a,children:d,backdrop:f=!0,keyboard:E=!0,onBackdropClick:u,onEscapeKeyDown:b,transition:T,runTransition:se,backdropTransition:re,runBackdropTransition:oe,autoFocus:ae=!0,enforceFocus:ie=!0,restoreFocus:ce=!0,restoreFocusOptions:le,renderDialog:P,renderBackdrop:ue=i=>l.jsx("div",Object.assign({},i)),manager:de,container:fe,onShow:_,onHide:K=()=>{},onExit:he,onExited:H,onExiting:ge,onEnter:me,onEntering:pe,onEntered:Ee}=e,ve=Ve(e,Ge);const g=F(),R=Pe(fe),c=Ue(de),be=Ne(),Re=je(n),[x,G]=o.useState(!n),y=o.useRef(null);o.useImperativeHandle(t,()=>c,[c]),S&&!Re&&n&&(y.current=B(g==null?void 0:g.document)),n&&x&&G(!1);const V=h(()=>{if(c.add(),O.current=X(document,"keydown",Te),M.current=X(document,"focus",()=>setTimeout(ye),!0),_&&_(),ae){var i,U;const N=B((i=(U=c.dialog)==null?void 0:U.ownerDocument)!=null?i:g==null?void 0:g.document);c.dialog&&N&&!q(c.dialog,N)&&(y.current=N,c.dialog.focus())}}),w=h(()=>{if(c.remove(),O.current==null||O.current(),M.current==null||M.current(),ce){var i;(i=y.current)==null||i.focus==null||i.focus(le),y.current=null}});o.useEffect(()=>{!n||!R||V()},[n,R,V]),o.useEffect(()=>{x&&w()},[x,w]),We(()=>{w()});const ye=h(()=>{if(!ie||!be()||!c.isTopModal())return;const i=B(g==null?void 0:g.document);c.dialog&&i&&!q(c.dialog,i)&&c.dialog.focus()}),Ce=h(i=>{i.target===i.currentTarget&&(u==null||u(i),f===!0&&K())}),Te=h(i=>{E&&He(i)&&c.isTopModal()&&(b==null||b(i),i.defaultPrevented||K())}),M=o.useRef(),O=o.useRef(),xe=(...i)=>{G(!0),H==null||H(...i)};if(!R)return null;const $=Object.assign({role:s,ref:c.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ve,{style:a,className:r,tabIndex:-1});let k=P?P($):l.jsx("div",Object.assign({},$,{children:o.cloneElement(d,{role:"document"})}));k=J(T,se,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:he,onExiting:ge,onExited:xe,onEnter:me,onEntering:pe,onEntered:Ee,children:k});let C=null;return f&&(C=ue({ref:c.setBackdropRef,onClick:Ce}),C=J(re,oe,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:C})),l.jsx(l.Fragment,{children:ke.createPortal(l.jsxs(l.Fragment,{children:[C,k]}),R)})});ne.displayName="Modal";const st=Object.assign(ne,{Manager:I});function Xe(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ye(e,t){e.classList?e.classList.add(t):Xe(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Q(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function qe(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Q(e.className,t):e.setAttribute("class",Q(e.className&&e.className.baseVal||"",t))}const p={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ze extends I{adjustAndStore(t,n,s){const r=n.style[t];n.dataset[t]=r,v(n,{[t]:`${parseFloat(v(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],v(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Ye(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";m(n,p.FIXED_CONTENT).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth)),m(n,p.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-t.scrollBarWidth)),m(n,p.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();qe(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";m(n,p.FIXED_CONTENT).forEach(a=>this.restore(s,a)),m(n,p.STICKY_CONTENT).forEach(a=>this.restore(r,a)),m(n,p.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let L;function rt(e){return L||(L=new ze(e)),L}const Je=o.createContext({onHide(){}}),Qe=Je,Ze=o.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:r,...a},d)=>{const f=o.useContext(Qe),E=h(()=>{f==null||f.onHide(),s==null||s()});return l.jsxs("div",{ref:d,...a,children:[r,n&&l.jsx(Le,{"aria-label":e,variant:t,onClick:E})]})}),ot=Ze;export{ot as A,st as B,Le as C,Qe as M,Pe as a,Y as b,q as c,Ne as d,We as e,F as f,je as g,Xe as h,He as i,tt as j,ze as k,rt as l,J as r,nt as u};
